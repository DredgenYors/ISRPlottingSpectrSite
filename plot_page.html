<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask Plot Viewer</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
        }
        .left-panel {
            width: 25%;
            background: #f4f4f4;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            overflow-y: auto;
        }
        .right-panel {
            width: 75%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .plot-window {
            width: 90%;
            height: 90%;
            border: 1px solid #ccc;
        }
        .input-container {
            width: 90%;
            text-align: center;
            margin-bottom: 10px;
        }
        input {
            width: 100%;
            padding: 5px;
        }
        .button-container {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        .button {
            padding: 10px 20px;
            font-size: 1.1em;
            cursor: pointer;
            color: white;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .generate-btn {
            background-color: #007BFF;
        }
        .generate-btn:hover {
            background-color: #0056b3;
        }
        .reset-btn {
            background-color: #DC3545;
        }
        .reset-btn:hover {
            background-color: #a71d2a;
        }
    </style>
    <script>
        const defaultValues = {
            nu_i: "1.0e-7",
            nu_e: "1.0e-7",
            ni: "2.0e11",
            ne: "2.0e11",
            mi: "2.65686e-26",
            me: "9.11e-31",
            B: "3.6e-5",
            theta: "60",
            Te: "500",
            epsilon_0: "8.854187817e-12",
            kB: "1.380649e-23",
            e: "1.602e-19",
            n_terms: "2000"
        };

        function generatePlot() {
            let inputValues = {};
            for (let key in defaultValues) {
                inputValues[key] = document.getElementById(key).value;
            }

            fetch('/update_values', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(inputValues)
            }).then(response => {
                if (response.ok) {
                    document.getElementById("plot-frame").src = "/plot";
                }
            });
        }

        function resetValues() {
            for (let key in defaultValues) {
                document.getElementById(key).value = defaultValues[key];
            }

            fetch('/update_values', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(defaultValues)
            }).then(response => {
                if (response.ok) {
                    document.getElementById("plot-frame").src = "/plot";  // Regenerate plot with defaults
                }
            });
        }
    </script>
</head>
<body>
    <div class="left-panel">
        <div class="button-container">
            <button class="button generate-btn" onclick="generatePlot()">Generate Plot</button>
            <button class="button reset-btn" onclick="resetValues()">Reset</button>
        </div>

        <div class="input-container">
            <div>Ion Collision Frequency [Hz]</div>
            <input type="text" id="nu_i" placeholder="Ion Collision Frequency" value="1.0e-7">
        </div>

        <div class="input-container">
            <div>Electron Collision Frequency [Hz]</div>
            <input type="text" id="nu_e" placeholder="Electron Collision Frequency" value="1.0e-7">
        </div>

        <div class="input-container">
            <div>Ion Density [m⁻³]</div>
            <input type="text" id="ni" placeholder="Ion Density" value="2.0e11">
        </div>

        <div class="input-container">
            <div>Electron Density [m⁻³]</div>
            <input type="text" id="ne" placeholder="Electron Density" value="2.0e11">
        </div>

        <div class="input-container">
            <div>Ion Mass [kg]</div>
            <input type="text" id="mi" placeholder="Ion Mass" value="2.65686e-26">
        </div>

        <div class="input-container">
            <div>Electron Mass [kg]</div>
            <input type="text" id="me" placeholder="Electron Mass" value="9.11e-31">
        </div>

        <div class="input-container">
            <div>Magnetic Field [T]</div>
            <input type="text" id="B" placeholder="Magnetic Field" value="3.6e-5">
        </div>

        <div class="input-container">
            <div>Scattering Angle [°]</div>
            <input type="text" id="theta" placeholder="Scattering Angle" value="60">
        </div>

        <div class="input-container">
            <div>Electron Temperature [K]</div>
            <input type="text" id="Te" placeholder="Electron Temperature" value="500">
        </div>

        <div class="input-container">
            <div>Vacuum Permittivity [F/m]</div>
            <input type="text" id="epsilon_0" placeholder="Vacuum Permittivity" value="8.854187817e-12">
        </div>

        <div class="input-container">
            <div>Boltzmann Constant [J/K]</div>
            <input type="text" id="kB" placeholder="Boltzmann Constant" value="1.380649e-23">
        </div>

        <div class="input-container">
            <div>Elementary Charge [C]</div>
            <input type="text" id="e" placeholder="Elementary Charge" value="1.602e-19">
        </div>

        <div class="input-container">
            <div>N Terms [unitless]</div>
            <input type="text" id="n_terms" placeholder="N Terms" value="2000">
        </div>
    </div>

    <div class="right-panel">
        <iframe id="plot-frame" class="plot-window" src="about:blank"></iframe>
    </div>
</body>
</html>

